<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- #include file="/games/mirren/reservation/mobile/inc/head.html" -->
    <script>
      $rootUrl = '/games/mirren/reservation';
    </script>

    <link rel="stylesheet" href="assets/css/reservation.min.css" />
  </head>

  <body class="main-page" data-page="reservation">
    <!-- #include file="/games/mirren/reservation/mobile/inc/header.html" -->

    <span class="reservation-bg"></span>

    <main class="main" id="contents">
      <!-- S: section-landing -->
      <section class="section section-landing">
        <div class="bg">
          <video loop muted playsinline autoplay poster="/games/mirren/reservation/mobile/assets/images/landing/bg.webp">
            <source src="/games/mirren/reservation/mobile/assets/images/landing/bg.mp4" type="video/mp4" />
          </video>
        </div>
        <div class="container">
          <div class="bi" data-aos="fade-in" data-aos-duration="1000" data-aos-delay="100">
            <span class="sr-only"> 초월적 판타지 애니메이션 RPG </span>
          </div>

          <div class="title" data-aos="fade-in" data-aos-duration="1000" data-aos-delay="300">
            <span class="sr-only"> 완벽했던 세상에서 신이 사라진다. </span>
          </div>

          <button data-aos="fade-in" data-aos-duration="1000" data-aos-delay="500" class="btnToReservation" type="button" onclick="$('body,html').animate({scrollTop: $('.reservation-wrap').offset().top}, 500)">
            <span class="sr-only">사전예약하기</span>
          </button>

          <button class="scrollDown" type="button" onclick="$('body,html').animate({scrollTop: $('.reservation-wrap').offset().top}, 500)">
            <span class="sr-only"> scroll down </span>
          </button>
        </div>
      </section>
      <!-- E: section-landing -->
      <div class="reservation-wrap">
        <!-- S: .reservation-bg transition용 anchor DOM -->
        <i class="anchor anchor--1"></i>
        <i class="anchor anchor--2"></i>
        <!-- E: .reservation-bg transition용 anchor DOM -->

        <section class="section section-reservation" id="section-reservation">
          <div class="sr-only">
            <p> 당신과 마녀 그리고 성흔의 서사시 </p>
            <h2>뮈렌: 천년의 여정 사전예약</h2>
            <p>2024.06.27. ~ 런칭 시 까지</p>
            <h3> 뮈렌: 천년의 여정 사전예약 시 대니, 시슬리, 크리슈나 중 1종을 획득할 수 있는 5성 성흔 선택권 한개 지급! </h3>
          </div>

          <div class="reservation-reward">
            <button class="btn btn--danny popup-link" data-popup="popup__reward--danny">
              <span class="sr-only">대니 자세히보기</span>
            </button>
            <button class="btn btn--sisley popup-link" data-popup="popup__reward--sisley">
              <span class="sr-only"> 시슬리 자세히보기</span>
            </button>
            <button class="btn btn--krishna popup-link" data-popup="popup__reward--krishna">
              <span class="sr-only"> 크리슈나 자세히보기</span>
            </button>
          </div>

          <!-- S: 사전예약 폼 -->
          <div class="form-area">
            <form action="">
              <div class="radio-wrap">
                <label>
                  <input type="radio" name="os" value="aos" checked />
                  <img src="assets/images/reservation/os-aos.webp" alt="Google Play" />
                </label>

                <label>
                  <input type="radio" name="os" value="ios" />
                  <img src="assets/images/reservation/os-ios.webp" alt="App Store" />
                </label>
              </div>

              <!-- S: turnstile : 테스트 코드 -->
              <div class="cloudeflare-container">
                <!-- S: 퍼블 테스트용 -->
                <div class="cf-turnstile" style="font-size: 0; height: 65px; border: 1px solid #666; background: #222" data-theme="dark"></div>
                <!-- E: 퍼블 테스트용 -->

                <!-- S: 개발용 -->
                <!-- <div class="cf-turnstile" style="font-size: 0" data-sitekey="0x4AAAAAAAQKMbMx6pImjuzR" data-theme="dark"></div>
                <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script> -->
                <!-- E: 개발용 -->

                <!-- 확인중 일 경우 : -->
                <p style="font-size: 0.9em">접속에 대한 보안을 검사 중입니다.</p>

                <!-- 성공 일 경우 : -->
                <!-- <p style="font-size: 0.9em; text-align: left; color: #289e4a">접속에 대한 보안 확인이 완료되었습니다.</p> -->

                <!-- 실패 일 경우 : -->
                <!-- <p style="font-size: 0.9em; text-align: left; color: #fd4e4e">접속에 대한 보안이 미흡합니다. 다른 환경에서 재시도하거나 고객센터에 문의해주세요.</p> -->
              </div>

              <script>
                // 크기 조절을 위한 스크립트
                window.addEventListener('message', function (e) {
                  if (e.data.event !== 'init') {
                    return;
                  }

                  let turnstileIframe = document.getElementById('cf-chl-widget-' + e.data.widgetId);
                  if (!turnstileIframe) {
                    return;
                  }

                  turnstileIframe.style.width = '100%';
                  turnstileIframe.style.height = '65px';
                  turnstileIframe.style.display = '';
                  e.stopImmediatePropagation();
                });
              </script>
              <!-- E: turnstile : 테스트 코드 -->

              <input class="input" type="tel" name="phone" autocomplete="off" placeholder="‘-’을 제외한 휴대 전화 번호를 입력해 주세요." />

              <div class="chk-wrap">
                <label class="chk-all" id="chkAll">
                  <input type="checkbox" id="chk" />
                  <p class="text">전체동의</p>
                  <span class="text-alert">동의 절차는 개별로도 가능하며, 전체 동의 선택 시 선택 사항도 동의 처리됩니다.</span>
                </label>

                <ul class="chk-wrap__list">
                  <li>
                    <label name="yearsCheck">
                      <input type="checkbox" name="yearsCheck" />
                      <span class="text-color-1">[필수] 14세 이상입니다.</span>
                    </label>
                  </li>
                  <li>
                    <label name="person">
                      <input type="checkbox" name="person" />
                      [필수] 개인 정보 수집 및 이용 동의
                      <button type="button" class="clause-btn popup-link" data-popup="popup__privacy">자세히 보기</button>
                    </label>
                  </li>
                  <li>
                    <label name="consignment">
                      <input type="checkbox" name="consignment" />
                      [필수] 개인 정보 처리 위탁 동의
                      <button type="button" class="clause-btn popup-link" data-popup="popup__consignment">자세히 보기</button>
                    </label>
                  </li>
                  <li>
                    <label name="advertising">
                      <input type="checkbox" name="advertising" />
                      <span class="text-color-1">[선택] 광고성 정보 수신 동의</span>
                      <button type="button" class="clause-btn popup-link" data-popup="popup__advertising">자세히 보기</button>
                    </label>
                    <p class="text-alert"> 광고성 정보 수신 동의는 선택적 동의로 거부하실 수 있으나, 거부 시 사전예약 보상 및 관련 소식을 받으실 수 없습니다. </p>
                  </li>
                </ul>
              </div>

              <!-- <button type="submit" class="btn-submit"><span class="sr-only">사전예약</span></button> -->
              <!-- S: 사전예약 테스트용 버튼  -->
              <button type="submit" class="btn-submit popup-link" data-popup="popup__reservation"><span class="sr-only">사전예약하기 </span></button>
              <!-- E: 사전예약 테스트용 버튼  -->
            </form>
          </div>

          <script>
            $(document).ready(function () {
              $('#chk').click(function () {
                if ($('#chk').is(':checked')) {
                  $('.chk-wrap__list input').prop('checked', true);
                } else {
                  $('.chk-wrap__list input').prop('checked', false);
                }
              });

              $('.chk-wrap__list input').click(function () {
                var total = $('.chk-wrap__list input').length;
                var checked = $('.chk-wrap__list input:checked').length;
                if (total != checked) {
                  $('#chk').prop('checked', false);
                } else {
                  $('#chk').prop('checked', true);
                }
              });
            });
          </script>
          <!-- E: 사전예약 폼 -->
        </section>

        <section class="section section-market">
          <div class="container">
            <div class="sr-only">
              <h2>마켓 사전예약</h2>

              <p>2024.06.27. ~ 런칭 시 까지</p>
              <p>뮈렌: 천년의 여정 마켓 사전예약 하고 추가 보상을 받아보세요.</p>
              <p>보상내용: 성흔 소환 티켓 x 3, 특수 장식 스킨 닌자 고양이 인형 x 1 </p>
            </div>

            <div class="badge-wrap">
              <h3 class="sr-only">마켓 사전예약 바로가기</h3>

              <a href="#TODO:" class="badge" target="_blank" title="Google Play에서 사전등록하기"> </a>
              <a href="#TODO:" class="badge" target="_blank" title="App Store에서 사전 주문하기"> </a>
            </div>

            <button type="button" class="popup-link btn-reservation-notice" data-popup="popup__reservation-notice"><span class="sr-only">사전예약 유의사항 </span></button>
          </div>
        </section>
      </div>

      <section class="section section-event" id="section-event">
        <h2 class="sr-only"> 이벤트 </h2>

        <section class="event-content event-content--1">
          <div class="sr-only">
            <h3>01 : 사전예약 목표 인원 달성하고 보상받자! 사전예약 인원 달성 이벤트</h3>
            <p> 2024.06.27. ~ 런칭 시 까지 </p>
            <p> 사전예약 목표 인원 달성 시 달성 인원 수에 따라 런칭 시 특별한 아이템을 드립니다! </p>
          </div>

          <div class="gauge">
            <span class="item-bg item-bg--1"></span> <span class="item-bg item-bg--2"></span> <span class="item-bg item-bg--3"></span> <span class="item-bg item-bg--4"></span> <span class="item-bg item-bg--5"></span> <span class="item-bg item-bg--6"></span>

            <!-- TODO: 달성시 조정내용
            h4 텍스트 변경
            gauge-list [data-state] 값 변경
            -->
            <!--
            TODO:
            data-state="0" : 미달성
            data-state="1" : 5만 달성
            data-state="2" : 10만 달성
            data-state="3" : 20만 달성
            data-state="4" : 30만 달성
            data-state="5" : 40만 달성
            data-state="6" : 50만 달성
            -->
            <h4 class="sr-only"> 5만 달성 </h4>
            <div class="gauge-list" data-state="6">
              <div class="gauge-list__bar">
                <span class="bar"></span>
              </div>

              <div class="item item--1">
                <span class="sr-only"> 5만 달성 시 보상: 성흔 소환 티켓x3 , 성흔 스킬 강화 재료x3 </span>
              </div>
              <div class="item item--2">
                <span class="sr-only"> 10만 달성 시 보상: 초급 돌파 재료 선택 패키지x3, 벤르x200,000</span>
              </div>
              <div class="item item--3">
                <span class="sr-only"> 20만 달성 시 보상: 성흔 스킬 강화 재료x5 </span>
              </div>
              <div class="item item--4">
                <span class="sr-only"> 30만 달성 시 보상: 성흔 소환 티켓x3 ,성흔 레벨업 재료x5 </span>
              </div>
              <div class="item item--5">
                <span class="sr-only"> 40만 달성 시 보상: 성흔 스킬 강화재료x2</span>
              </div>
              <div class="item item--6">
                <span class="sr-only"> 50만 달성 시 보상: 성흔 소환티켓x20</span>
              </div>
              <p class="sr-only">※ 아이템 명칭은 정식 오픈 후 변경될 수 있습니다.</p>
            </div>
          </div>
        </section>

        <section class="event-content event-content--2">
          <div class="sr-only">
            <h3>02 매일매일 출첵하고 아이템 받자! 출석체크 이벤트</h3>

            <p>2024.06.27. ~ 런칭 시 까지</p>
            <p>사전예약 기간 동안 매일 출석체크하고 출석 보상을 받아보세요! </p>
          </div>

          <div class="container">
            <form action="" method="get" id="attendForm">
              <div class="attend-form">
                <p class="sr-only">사전예약 휴대전화 번호 입력</p>
                <input class="attend-form__input" type="tel" name="" autocomplete="off" placeholder="‘-’을 제외한 휴대 전화 번호를 입력해 주세요." />
                <button type="submit" class="attend-form__btn" title="출석체크 하기"> </button>
              </div>
            </form>

            <!-- S: 로그인전/후 테스트버튼/테스트코드 : 개발단에서 삭제해주세요 -->
            <script>
              $('#attendForm').on('submit', function (event) {
                event.preventDefault();
                //form위치로 이동
                $('html, body').animate({ scrollTop: $('.event-content--2 form').offset().top - 100 }, 500);

                //로그인전/후 화면노출
                $('#attendBtn').click();

                //출석완료팝업열기
                $('#popup__check-board-done').fadeIn().css('display', 'flex');
              });
            </script>

            <button type="button" id="attendBtn" onclick=" $('.check-board').toggleClass('check-board--guest'); if($('.check-board').hasClass('check-board--guest')){ $('.check-board .btn').removeClass('checked'); }else{ $('.check-board .btn').addClass('checked'); } " style="color: red; background-color: yellow; position: absolute; right: 0; top: 11.185vw; z-index: 2"> 테스트BTN </button>

            <!-- E: 로그인전/후 테스트버튼/테스트코드 : 개발단에서 삭제해주세요 -->

            <!-- TODO:
                    로그인 전 : .check-board에 check-board--guest 클래스 붙여주세요.
                    로그인 후 : .check-board--guest 삭제
                  -->
            <!-- S: 출석보드 -->
            <div class="check-board check-board--guest">
              <h4 class="sr-only"> 세이비어님의 출석 현황 </h4>

              <div class="check-board__wrap">
                <!-- 출석 -->
                <ol class="check-board__check">
                  <!-- S: 출석완료시: .checked 클래스 추가, 출석 텍스트 추가-->
                  <!-- <li class="btn checked"> <p>1일차 출석</p> </li> -->
                  <!-- E: 출석완료시: .checked 클래스 추가, 출석 텍스트 추가-->

                  <li class="btn"> <p>1일차</p> </li>
                  <li class="btn"> <p>2일차</p> </li>
                  <li class="btn"> <p>3일차</p> </li>
                  <li class="btn"> <p>4일차</p> </li>
                  <li class="btn"> <p>5일차</p> </li>
                  <li class="btn"> <p>6일차</p> </li>
                  <li class="btn"> <p>7일차</p> </li>
                  <li class="btn"> <p>8일차</p> </li>
                  <li class="btn"> <p>9일차</p> </li>
                  <li class="btn"> <p>10일차</p> </li>
                  <li class="btn"> <p>11일차</p> </li>
                  <li class="btn"> <p>12일차</p> </li>
                  <li class="btn"> <p>13일차</p> </li>
                  <li class="btn"> <p>14일차</p> </li>
                  <li class="btn"> <p>15일차</p> </li>
                  <li class="btn"> <p>16일차</p> </li>
                  <li class="btn"> <p>17일차</p> </li>
                  <li class="btn"> <p>18일차</p> </li>
                  <li class="btn"> <p>19일차</p> </li>
                  <li class="btn"> <p>20일차</p> </li>
                </ol>
                <!-- 보상 -->
                <ol class="check-board__reward">
                  <li class="btn"><p>1주차 완료</p></li>
                  <li class="btn"><p>2주차 완료</p></li>
                  <li class="btn"><p>3주차 완료</p></li>
                  <li class="btn"><p>4주차 완료</p></li>
                </ol>
              </div>

              <p class="sr-only">출석 완료 시 인게임 보상 추가 지급! </p>
            </div>
            <!-- E: 출석보드 -->

            <button type="button" class="btn-check-board-reward popup-link" data-popup="popup__check-board-reward"> 주차별 출석 보상 보기 </button>

            <div class="event-notice">
              <h4>[유의사항]</h4>
              <ul class="list-dot">
                <li data-dot="-">출석체크 이벤트는 사전예약 완료 후 참여가 가능합니다.</li>
                <li data-dot="-">사전예약 시 입력한 휴대폰 번호로 매일 이벤트에 참여하실 수 있습니다.</li>
                <li data-dot="-">본인이 아닌 타인의 정보 (휴대폰번호 등) 기입 시 이벤트 참여에서 제외됩니다.</li>
                <li data-dot="-">이벤트 보상의 경우 정식 출시 후 사전예약 시 입력한 휴대폰 번호를 통해 LMS가 발송될 예정입니다.</li>
                <li data-dot="-">해당 이벤트는 매일 연속 출석 체크를 하지 않아도, 사전예약 기간 내 출석한 주차에 따라 보상이 지급됩니다.</li>
                <li data-dot="-">사전예약 이벤트 및 보상은 한국 출시 앱 및 참여자에 한정합니다. </li>
                <li data-dot="-">본 이벤트는 만 14세 이상 참여 가능합니다. </li>
                <li data-dot="-">잘못된 휴대폰 번호를 입력하거나, 번호 변경 등으로 발생한 불이익에 대해서는 당사에서 책임지지 않습니다. </li>
                <li data-dot="-">이벤트 보상은 계정당 1회씩만 지급되며 중복 지급되지 않습니다. </li>
                <li data-dot="-">이벤트 진행 일정 및 보상 지급은 내부 사정에 따라 변경 될 수 있습니다.</li>
              </ul>
            </div>
          </div>
        </section>
        <section class="event-content event-content--3">
          <i class="ch"></i>
          <div class="sr-only">
            <h3>03 공식 라운지와 X에서 소통해요! 팔로워 달성 이벤트 </h3>
            <p>2024.06.27.~ 런칭 시 까지 </p>
            <p>뮈렌: 천년의 여정의 다양한 소식들을 공식 라운지와 X에서 만나보세요~! 목표 팔로워 수 달성 시 특별한 선물을 드립니다!</p>
          </div>

          <div class="container">
            <!-- TODO:
            h4 텍스트 변경
            달성한 항목 .achieve-list .card 에 active addclass
            -->

            <h4 class="sr-only">5천명 달성</h4>
            <ul class="achieve-list">
              <li class="card active">
                <div class="sr-only"> 5천명 달성 시 : 성흔의장/시골편 (성흔 스킬 강화 재료)x3 </div>
              </li>
              <li class="card">
                <div class="sr-only"> 7천명 달성 시 : 초급 돌파 재료 선택 패키지x2 </div>
              </li>
              <li class="card">
                <div class="sr-only"> 1만명 달성 시 : 성흔의장/기준편 (성흔 스킬 강화 재료)x2 </div>
              </li>
              <li class="card">
                <div class="sr-only"> 2만명 달성 시 : 성흔의장/시인편 (성흔 스킬 강화 재료)x2 </div>
              </li>
            </ul>

            <div class="btn-wrap">
              <a href="#TODO:" target="_blank" class="btn btn--lounge">
                <span class="sr-only">공식 게임 라운지 가입</span>
              </a>
              <a href="#TODO:" target="_blank" class="btn btn--x">
                <span class="sr-only">공식 X 팔로우</span>
              </a>
            </div>

            <p class="sr-only">※ 아이템 명칭은 정식 오픈 후 변경될 수 있습니다.</p>
          </div>
        </section>
        <section class="event-content event-content--4">
          <div class="sr-only">
            <h3>04 세이비어님이 첫눈에 반할 성흔은 누구? 성흔 첫인상 이상형 월드컵 </h3>
            <p>2024.06.27. ~ 런칭 시 까지</p>
          </div>

          <button type="button" class="tournament-start-btn" onclick="tournamentStart()">이상형 월드컵 시작 </button>

          <!-- S: 이상형월드컵 -->
          <span class="dimmed"></span>
          <aside class="tournament-container">
            <button type="button" class="tournament-container__close" title="닫기" onclick="tournamentEnd()"></button>
            <div id="tournament">
              <!-- 이상형월드컵 ajax -->
            </div>

            <div id="tournament-result" style="display: none">
              <span class="sr-only"> 세이비어님의 취향은 바로! </span>

              <div class="tournament-result-wrap">
                <div class="img-bx">
                  <div class="item-button">
                    <div class="img"></div>
                  </div>
                </div>

                <div class="txt-bx">
                  <a class="btn btn-saveImg" target="_blank"><span class="sr-only">이미지 저장</span></a>
                  <div class="share">
                    <h3 class="sr-only">공유하기</h3>

                    <ul class="share__list">
                      <!-- TODO: 공유하기 -->
                      <li><button type="button" onclick="shareOnX(localStorage.getItem('tournamentWinner'))" class="share-btn share-btn--x" title="X로 공유하기"> </button></li>
                      <li><button type="button" onclick="shareOnFacebook(localStorage.getItem('tournamentWinner'))" class="share-btn share-btn--facebook" title="페이스북으로 공유하기"> </button></li>
                    </ul>
                    <script>
                      // S: 퍼블리싱용 테스트입니다
                      // 고른 성흔 이름 가져오기
                      function shareOnX(e) {
                        let localData = JSON.parse(e).name;
                        console.log(`I'm X and you're ${localData}`);
                      }
                      function shareOnFacebook(e) {
                        let localData = JSON.parse(e).name;
                        console.log(`I'm Facebook and you're ${localData}`);
                      }
                      // E: 퍼블리싱용 테스트입니다
                    </script>
                  </div>
                  <button type="button" class="btn btn-restart" id="btn-restart">
                    <span class="sr-only"> 나의 이상형 다시 찾기 </span>
                  </button>

                  <p class="sr-only">* 다양한 성흔 정보는 공식 홈페이지 또는 공식 게임 라운지에서 확인해보세요~! </p>
                </div>
              </div>
            </div>
          </aside>
          <!-- E: 이상형월드컵 -->
        </section>
      </section>
    </main>
    <!-- #include file="/games/mirren/reservation/mobile/inc/footer.html" -->
    <i class="itemNotice">확률형 아이템 포함</i>

    <button type="button" title="최상단으로" class="btnTop"></button>
    <!-- #include file="/games/mirren/reservation/mobile/inc/popup-common.html" -->
    <!-- #include file="/games/mirren/reservation/mobile/inc/popup-reservation.html" -->

    <script src="/games/mirren/reservation/mobile/assets/js/common-animate.min.js"></script>
    <script src="/games/mirren/reservation/common/js/tournament.min.js"></script>
    <script src="/games/mirren/reservation/mobile/assets/js/common.min.js"></script>
    <script src="/games/mirren/reservation/mobile/assets/js/reservation.min.js"></script>
  </body>
</html>
