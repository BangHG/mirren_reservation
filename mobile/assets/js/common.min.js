function open_blind(){$(".blind, .blind--btnClosed").fadeIn(300)}function closed_popup(){return $(".blind, .blind--btnClosed").fadeOut(300),$(".popup--video").removeClass("open"),$(".you_tube").empty(),$(".popup").hide(),!1}function SetYoutube(){var t="",e=arguments[0];if(""==e||null==e)closed_popup(),$(".popup--video").removeClass("open"),alert("Coming soon.");else{var i=document.getElementById("cv_audio");i.pause(),t='<iframe id="video" width="900" height="576" src="'+e+'?autoplay=1" allow="autoplay; encrypted-media" frameborder="0" allowfullscreen></iframe>',$(".you_tube").html(t)}}function navClose(){$("html").css({overflowY:"auto"}),$(".nav__toggle").stop().removeClass("active"),$(".nav__toggle").attr("title","네비게이션 열기"),$(".header").stop().removeClass("active")}function navOpen(){$("html").css({overflowY:"hidden"}),$(".nav__toggle").stop().addClass("active"),$(".nav__toggle").attr("title","네비게이션 닫기"),$(".header").stop().addClass("active")}function stigmataTab(){$(".stigmata-group").each(function(){$(this).find(".thumb-btn:nth-child(1)").addClass("active")}),$("#stigmata-tab .thumb-btn").on("click",function(){$(this).hasClass("active")||($("#stigmata-tab .thumb-btn").removeClass("active"),$(this).stop().addClass("active"))})}function getSlideIndexByClass(t,e){var i=0;return $.each($(t).find(".swiper-wrapper").children(),function(t,a){if($(a).hasClass(e))return i=t,!1}),i}function audioCv(){var t=document.getElementById("cv_audio");$(".cv-btn").on("click",function(){$(".cv-btn").removeClass("active"),t.pause();const e=$(this).attr("data-audio");$("#cv_audio").attr("src",`${$rootUrl}/common/audio/${e}.wav`),$(this).addClass("active"),t.play()}),t.addEventListener("ended",function(){t.currentTime=0,$(".cv-btn").removeClass("active")})}function goToPortraitMode(){const t=window.innerWidth,e=window.innerHeight;e<=t?($(".goToPortraitMode").addClass("show"),setTimeout(function(){$(".goToPortraitMode").removeClass("show")},6e3)):$(".goToPortraitMode").removeClass("show")}$(document).on("click",".popup-link",function(){var t=$(this).attr("data-popup");return open_blind(),$("."+t).fadeIn().css("display","flex"),!1}),$(document).keyup(function(t){"Escape"===t.key&&closed_popup()}),$(document).ready(function(){$("body").on("click",".popup-link--video",function(){return open_blind(),$(".popup--video").addClass("open").fadeIn("300"),SetYoutube($(this).attr("data-content")),!1})}),$(".nav__toggle").click(function(){$(this).hasClass("active")?navClose():navOpen()}),$(".nav .nav-list a.link").on("click",function(){const t=$(this).attr("href"),e=t.split("?")[0],i=t.split("?")[1];gsap.to(window,{duration:.5,scrollTo:{y:e,offsetY:30}}),t&&t.includes("?media--")&&($(".section-media .tab-content").removeClass("active"),$(".section-media .tab-list .tab-link").removeClass("active"),$(`.section-media .tab-list .tab-link[data-hash=${i}]`).addClass("active"),$("#"+i).addClass("active")),navClose()}),$(document).scroll(function(t){$(window).scrollTop()>500?($(".btnTop").fadeIn(300),$(".header").addClass("fixed")):($(".btnTop").fadeOut(300),$(".header").removeClass("fixed"))}),$(document).ready(function(){AOS.init({once:!0})}),$(window).on("load",function(){$("body").attr("data-loading","done")}),window.addEventListener("resize",function(){setTimeout(function(){AOS.refresh()},500)});const witchThumbSwiper=new Swiper(".section-witch .swiper-thumb .swiper-container",{allowTouchMove:!1,freeMode:!0,threshold:20}),witchSwiper=new Swiper(".section-witch .swiper .swiper-container",{speed:500,spaceBetween:0,loop:!0,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:witchThumbSwiper}});witchSwiper.on("slideChange",function(){$(".section-witch .swiper .swiper-slide").removeClass("initAni"),$(".section-witch .swiper-thumb .thumb-btn").removeClass("active")}),witchSwiper.on("slideChangeTransitionStart",function(){$(".section-witch .swiper .swiper-slide-active").addClass("initAni"),$(".section-witch .swiper-thumb .swiper-slide-thumb-active .thumb-btn").addClass("active")});const stigmataSwiper=new Swiper(".section-stigmata .swiper .swiper-container",{speed:1e3,spaceBetween:0,loop:!1,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0}});stigmataSwiper.on("slideChange",function(){$(".section-stigmata .swiper .swiper-slide").removeClass("initAni")}),stigmataSwiper.on("slideChangeTransitionStart",function(){$(".section-stigmata .swiper .swiper-slide-active").addClass("initAni")}),$("#stigmata-tab").each(function(t){$(this).find(".tab-link").click(function(t){var e=$(this).attr("data-hash");t.preventDefault(),$(this).parent().parent().find(".tab-link").removeClass("active"),$(this).parent().parent().parent().find(".tab-content").stop().removeClass("active"),$("#stigmata-tab .thumb-btn").removeClass("active"),$("#"+e).find(".thumb-btn").first().addClass("active"),$(this).addClass("active");const i=$(this).attr("data-moveTo");return stigmataSwiper.slideTo(getSlideIndexByClass(".section-stigmata","stigmata--"+i)),$("#"+e).stop().addClass("active"),!1})}),$.ajax({type:"GET",url:`${$rootUrl}/common/json/stigmata.json`,dataType:"json"}).done(function(t){var e="",i="",a="",n="",s="",o="",d="";$.each(t.list,function(t,e){"1"===e.tribe&&(i+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>'),"2"===e.tribe&&(a+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>'),"3"===e.tribe&&(n+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>'),"4"===e.tribe&&(s+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>'),"5"===e.tribe&&(o+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>'),"6"===e.tribe&&(d+='<button class="thumb-btn" id="stigmata--'+e.id+'" title="'+e.name+'"><span class="spin"></span></button>')}),$("#tabContent1 .stigmata-group").html(i),$("#tabContent2 .stigmata-group").html(a),$("#tabContent3 .stigmata-group").html(n),$("#tabContent4 .stigmata-group").html(s),$("#tabContent5 .stigmata-group").html(o),$("#tabContent6 .stigmata-group").html(d),stigmataTab(),$.each(t.list,function(t,i){e+='<div class="swiper-slide stigmata stigmata--'+i.id+'">',e+='<div class="bg"></div> <div class="ch"> </div>',e+='<div class="spec"><p class="sr-only">'+i.spec+"</p> </div>",e+='<div class="title-bx">',e+='<p class="name"> '+i.name+" </p>",e+='<dl class="cv"><dt>CV</dt>',e+=`<dd><img loading="lazy" src="${$rootUrl}/common/audio/`+i.id+'_ja.png" alt="'+i.cv_ja+'" /><button class="cv-btn" data-audio="'+i.id+'_ja"></button></dd>',e+="</dl>",e+='<p class="desc"> '+i.desc+" </p>",e+="</div></div>"}),$("#stigmataList").html(e),$("#stigmata-tab .thumb-btn").on("click",function(){const t=$(this).attr("id");stigmataSwiper.slideTo(getSlideIndexByClass(".section-stigmata",t))}),audioCv()});const worldSwiper=new Swiper(".section-world .swiper-container",{speed:500,spaceBetween:0,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".section-world .swiper-button--next",prevEl:".section-world .swiper-button--prev"}}),mediaVideoSwiper=new Swiper(".mediaSwiper--video .swiper-container",{speed:500,spaceBetween:0,loop:!1,threshold:20,effect:"coverflow",coverflowEffect:{rotate:"0",modifier:1,slideShadows:!1,stretch:"300",scale:"0.9"},pagination:{el:".mediaSwiper--video .swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".mediaSwiper--video .swiper-button--next",prevEl:".mediaSwiper--video .swiper-button--prev"}}),mediaPictureSwiper=new Swiper(".mediaSwiper--picture .swiper-container",{speed:500,spaceBetween:0,loop:!1,threshold:20,effect:"coverflow",coverflowEffect:{rotate:"0",modifier:1,slideShadows:!1,stretch:"300",scale:"0.9"},pagination:{el:".mediaSwiper--picture .swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".mediaSwiper--picture .swiper-button--next",prevEl:".mediaSwiper--picture .swiper-button--prev"}});$("#media-tab").each(function(t){$(this).find(".tab-link").click(function(t){var e=$(this).attr("data-hash");return t.preventDefault(),$(this).parent().parent().find(".tab-link").removeClass("active"),$(this).parent().parent().parent().find(".tab-content").removeClass("active"),$(this).addClass("active"),$("#"+e).addClass("active"),!1})}),$(window).on("load",function(){goToPortraitMode()}),$(window).on("resize",function(){goToPortraitMode()});