.section-main {
  // z-index: 100;
  overflow: hidden;
  position: relative;
  overflow-x: hidden;
  height: vw(2400);
  display: block;
  width: 100%;

  .bg {
    top: 0;
    position: absolute;
    width: 100%;
    aspect-ratio: 1080/2400;
    // width: 100%;
    background: url(../images/main/bg.webp) no-repeat 50% 50%;
    background-size: cover;
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url(../images/main/bg-dim.webp) no-repeat 0 0;
      background-size: contain;
    }
  }

  .bi {
    background: url(../images/main/bi.webp) no-repeat 50% 50%;
    background-size: contain;
    width: vw(540);
    aspect-ratio: (540/463);
    position: absolute;
    top: vw(110);
    left: 50%;
    transform: translateX(-50%);
  }

  .scrollDown {
    $w: 218;
    width: vw($w);
    aspect-ratio: $w/138;
    left: 50%;
    margin-left: vw($w/-2);
    z-index: 2;
    // transition: 500ms opacity;
    position: absolute;
    bottom: vw(700);
    &:after {
      background: url(../images/main/scrolldown.webp) no-repeat;
      background-size: contain;
      content: '';
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }
    &:before {
      content: '';
      width: 200%;
      height: 200%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: radial-gradient(rgba(#000, 0.3) 0%, rgba(#000, 0) 50%);
    }

    //가변위치... 아무래도 아닌듯
    // top: 90vh;
    // transform: translateY(-120%);
    // position: sticky;
    // top: 100dvh;
    // transform: translateY(-120%);
    // position: sticky;
    // bottom: 0;
  }

  .bg__petal {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    .p {
      position: absolute;
      animation: petalDrop 14s infinite linear; //alternate linear;
      &--c {
        animation-name: petalDrop2;
        // i {
        //   border-color: red !important;
        // }
      }
      i {
        display: block;
        background: url(../images/main/petal.webp) no-repeat;
        background-size: vw(292);
        animation: petal 7s infinite alternate ease-in-out;
        position: relative;
        // border: 1px solid yellow; //FIXME:
      }
    }
    @keyframes petalDrop {
      0% {
        opacity: 0;
        transform: translate(0, 0);
      }
      10%,
      90% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        transform: translate(-100vw, 100vw);
      }
    }
    @keyframes petalDrop2 {
      0% {
        opacity: 0;
        transform: translate(100vw, -100vw);
      }
      10%,
      90% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        transform: translate(0, 0);
      }
    }
    @keyframes petal {
      from {
        // transform: skewY(-7deg) translateX(0) rotateX(0);
        transform: translate(0) rotate(0);
      }
      to {
        // transform: skewY(7deg) translateX(10%) rotateX(40deg);
        transform: translate(50%, 50%) rotate(70deg);
      }
    }

    // @for $i from 1 through 5 {
    //   .p-#{$i} {
    //     animation-duration: random(7) * 50ms + 10s;
    //     animation-delay: random(7) * -50ms;
    //     i {
    //       animation-duration: random(7) * 200ms + 2s;
    //       animation-delay: random(7) * -50ms;
    //     }
    //   }
    // }
    @at-root {
      .section-main .bg__petal .p-1 {
        -webkit-animation-duration: 10200ms;
        animation-duration: 10200ms;
        -webkit-animation-delay: -250ms;
        animation-delay: -250ms;
      }
      .section-main .bg__petal .p-1 i {
        -webkit-animation-duration: 3000ms;
        animation-duration: 3000ms;
        -webkit-animation-delay: -350ms;
        animation-delay: -350ms;
      }
      .section-main .bg__petal .p-2 {
        -webkit-animation-duration: 10100ms;
        animation-duration: 10100ms;
        -webkit-animation-delay: -200ms;
        animation-delay: -200ms;
      }
      .section-main .bg__petal .p-2 i {
        -webkit-animation-duration: 3200ms;
        animation-duration: 3200ms;
        -webkit-animation-delay: -250ms;
        animation-delay: -250ms;
      }
      .section-main .bg__petal .p-3 {
        -webkit-animation-duration: 10350ms;
        animation-duration: 10350ms;
        -webkit-animation-delay: -250ms;
        animation-delay: -250ms;
      }
      .section-main .bg__petal .p-3 i {
        -webkit-animation-duration: 3200ms;
        animation-duration: 3200ms;
        -webkit-animation-delay: -100ms;
        animation-delay: -100ms;
      }
      .section-main .bg__petal .p-4 {
        -webkit-animation-duration: 10050ms;
        animation-duration: 10050ms;
        -webkit-animation-delay: -200ms;
        animation-delay: -200ms;
      }
      .section-main .bg__petal .p-4 i {
        -webkit-animation-duration: 3000ms;
        animation-duration: 3000ms;
        -webkit-animation-delay: -200ms;
        animation-delay: -200ms;
      }
      .section-main .bg__petal .p-5 {
        -webkit-animation-duration: 10150ms;
        animation-duration: 10150ms;
        -webkit-animation-delay: -350ms;
        animation-delay: -350ms;
      }
      .section-main .bg__petal .p-5 i {
        -webkit-animation-duration: 2400ms;
        animation-duration: 2400ms;
        -webkit-animation-delay: -100ms;
        animation-delay: -100ms;
      }
    }

    .p-1 {
      left: vw(2);
      bottom: 0;
      i {
        @include spr(vw(-5), vw(-5), vw(282), vw(260));
      }
    }

    .p-2 {
      left: vw(438);
      top: vw(692);
      i {
        @include spr(vw(-5), vw(-275), vw(46), vw(36));
      }
    }
    .p-21 {
      left: vw(438 + 53);
      top: vw(692);
      i {
        @include spr(vw(-5-46), vw(-275), vw(53), vw(36));
      }
    }

    .p-3 {
      left: 0;
      top: vw(231);
      i {
        @include spr(vw(-5), vw(-321), vw(189), vw(112));
      }
    }

    .p-4 {
      right: 0;
      top: vw(195);
      i {
        @include spr(vw(-5), vw(-546), vw(96), vw(59));
      }
    }
    .p-41 {
      right: vw(96);
      top: vw(195);
      i {
        @include spr(vw(-5-96), vw(-546), vw(22), vw(59));
      }
    }

    .p-5 {
      left: vw(288);
      top: 0;
      i {
        @include spr(vw(-5), vw(-443), vw(116), vw(93));
      }
    }
    .p-51 {
      left: vw(288+116);
      top: 0;
      i {
        @include spr(vw(-5-116), vw(-443), vw(31), vw(93));
      }
    }
  }
}

//앱다운로드
.app-download {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: vw(20);
  width: 100%;
  .link {
    display: block;
    img {
      height: vw(140);
    }
  }
  @at-root .section-main & {
    position: absolute;
    top: vw(1700);
    left: 0;
  }
  @at-root .header .nav & {
    margin-top: vw(140);
  }
}
